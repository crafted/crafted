<ng-container [formGroup]="form">
  <date-option formControlName="start" label="Start date"></date-option>

  <date-option formControlName="end" label="End date"></date-option>

  <button-toggle-group-option formControlName="group" label="Group"
                              [options]="groupOptions">
  </button-toggle-group-option>

  <div class="dataset theme-border theme-background-hover"
       *ngFor="let dataset of form.get('datasets').controls; let index = index"
       formArrayName="datasets">

    <dataset-option [formGroupName]="index"
                    [savedFiltererStates]="data.config.savedFiltererStates | async"
                    [dataResources]="data.config.dataResources"
                    (remove)="removeDataset(index)"
                    (duplicate)="duplicateDataset(dataset)"
                    (addAction)="addAction(dataset)">
    </dataset-option>
  </div>

  <button mat-button class="add-dataset theme-background-hover theme-border"
          type="button" (click)="addDataset()">
    Add Series
  </button>

</ng-container>
